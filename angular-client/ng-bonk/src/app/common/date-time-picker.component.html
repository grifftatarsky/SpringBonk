<div class="picker-shell" [class.disabled]="disabled">
  <mat-form-field appearance="outline" class="date-field">
    <mat-label>{{ label }}</mat-label>
    <input
      matInput
      [matDatepicker]="picker"
      [value]="dateValue"
      (dateChange)="onDateChanged($event)"
      (dateInput)="touch()"
      [disabled]="disabled"
      [min]="minDate"
    />
    <mat-datepicker-toggle matIconSuffix [for]="picker"></mat-datepicker-toggle>
    <mat-datepicker #picker></mat-datepicker>
  </mat-form-field>

  <mat-form-field appearance="outline" class="time-field">
    <mat-label>Time</mat-label>
    <input
      matInput
      type="time"
      [value]="timeValue ?? ''"
      (input)="onTimeChanged($any($event.target).value)"
      (blur)="touch()"
      [disabled]="disabled || !dateValue"
    />
  </mat-form-field>

  <button
    mat-icon-button
    type="button"
    aria-label="Clear date and time"
    (click)="clear()"
    *ngIf="showClear"
    [disabled]="disabled || (!dateValue && !timeValue)"
    matTooltip="Clear date and time"
  >
    <mat-icon>close</mat-icon>
  </button>
</div>

<div class="assistive" aria-live="polite">
  <span class="hint" *ngIf="hint && !lastValidation">{{ hint }}</span>
  <span class="error" *ngIf="lastValidation as err">{{ errorMessage(err) }}</span>
</div>
